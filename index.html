<!DOCTYPE html>
<html>
<head>
	<title>Sports Trivia</title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>	
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"
 	integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  	crossorigin="anonymous">
  	</script>

	<div id="contentWrapper">
  		<h1>Sports Trivia</h1>

  		<div id="questionWrapper"> 			
  			<button id = "start" class="nextQuestion">Start</button>
  			<p id = "timer"></p>
  			<h1 id="question"></h1>
  			<ul>
  				<li id = "answer1"></li>
  				<li id = "answer2"></li>
  				<li id = "answer3"></li>
  				<li id = "answer4"></li>
  			</ul>
  		</div>

	</div>

	<script>
	var questionArray = [
	// how to assign value of right to one of the answers
		{
			question: 'Barry Bonds currently holds the Major League Baseball home run record with how many home runs?',
			answerRight: '762',
			answer2: '750',
			answer3: '725',
			answer4: '796'
		},
		{
			question: 'Who is the only athlete to play in a Super Bowl and a World Series?',
			answerRight: 'Deion Sanders',
			answer2: 'Bo Jackson',
			answer3: 'Michael Jordan',
			answer4: 'Brian Jordan'
		},
		{
			question: 'Which country won the 2012 UEFA European Championship?',
			answerRight: 'Spain',
			answer2: 'Netherlands',
			answer3: 'France',
			answer4: 'Germany'
		}
	];

	var timer = 30;
	var countDisplay = setInterval(countdown, 1000);
	var play = false;
	var questionCounter = 0;
	var ul = document.querySelector('ul');
	var rightCounter = 0;
	var wrongCounter = 0;
	var numberOfQuestions = questionArray.length;

	$(document).on('click', '.nextQuestion', game)

	function countdown(){
		if (play === true){
			timer --; 
			$('#timer').text(timer);
			if (timer <= 0){
			timesUp()
			}
		} else {
			timer = 30
		};
	};

	function game(){
			
		$('.nextQuestion').remove();
		$('#question').append(questionArray[questionCounter].question).addClass('currentQuestion');
	
		$('#answer1').append('<button class="answerRight answer">' + questionArray[questionCounter].answerRight + '</button>');
		$('#answer2').append('<button class="answer">' + questionArray[questionCounter].answer2 + '</button>');
		$('#answer3').append('<button class="answer">' + questionArray[questionCounter].answer3 + '</button>');
		$('#answer4').append('<button class="answer">' + questionArray[questionCounter].answer4 + '</button>');

		// Randomizes order of buttons
		for (var i = ul.children.length; i >= 0; i--) {
			ul.appendChild(ul.children[Math.random() * i | 0]);
		};

		play = true;
		$('.correct').text('');
	};

	function gameOver(){
		questionCounter ++;
		console.log(questionCounter);
		if (questionCounter >= numberOfQuestions){
			$('#questionWrapper').prepend('<h1 class="scoreboard">' + 'Score: ' + rightCounter + '/' + numberOfQuestions + '</h1>');
			$('.nextQuestion').text('Restart');
			$('.nextQuestion').addClass('restart');
			$('.restart').removeClass('nextQuestion');
		};
	};
	

	function timesUp(){
		play = false;
		wrongCounter ++;
		$('.answer').remove();
		$('.currentQuestion').text('');
		$('#questionWrapper').prepend('<h1 class="correct">' + "Time's Up!" + '</h1>');
		nextQuestion();
		gameOver();
	}

	
	$(document).on('click', '.answer', function(){
		play = false;
		$('.answer').remove();
		$('.currentQuestion').text('');
		if ($(this).hasClass('answerRight')){
			$('#questionWrapper').prepend('<h1 class="correct">' + 'Correct!' + '</h1>');			
			rightCounter ++;			
			nextQuestion();
			console.log('right: ' + rightCounter);
		} else {
			$('#questionWrapper').prepend('<h1 class="correct">' + 'Incorrect!' + '</h1>');
			wrongCounter ++;
			nextQuestion();
			console.log('wrong: ' + wrongCounter);
		};
		gameOver()
	});

	function nextQuestion(){
		$('#timer').text('');
		
		$('#questionWrapper').append('<button class="nextQuestion">' + 'Next' +'</button>')
	};

	$(document).on('click', '.restart', function(){
		rightCounter = 0;
		wrongCounter = 0;
		questionCounter = 0;
		$('.scoreboard').remove();
		$('.restart').remove();
		game();
	});

	</script>
</body>
</html>